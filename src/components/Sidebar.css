/* Existing styles */
.sidebar {
    width: 260px;
    background-color: var(--color-bg-secondary);
    border-right: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    height: 100%;
}

.sidebar-header {
    padding: 16px;
    border-bottom: 1px solid var(--color-border);
}

.new-chat-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 8px 12px;
    background-color: #000000;
    color: white;
    border: 1px solid #ffffff;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.2s;
}

.new-chat-btn:hover {
    background-color: #1a1a1a;
    border-color: #e5e5e5;
}

.conversations-list {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.conversation-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    border-radius: 6px;
    transition: background-color 0.2s;
}

.conversation-wrapper:hover {
    background-color: var(--color-bg-tertiary);
}

.conversation-wrapper:hover .conversation-item {
    background-color: transparent;
    /* Remove individual hover since wrapper handles it */
}

/* Modifying .conversation-item to take up remaining space but not full width relative to delete btn */
.conversation-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    background: transparent;
    border: none;
    border-radius: 6px;
    color: var(--color-text-secondary);
    cursor: pointer;
    text-align: left;
    transition: all 0.2s;
    flex: 1;
    min-width: 0;
    /* Enable flex-shrink for text truncation */
}

/* Specific active state */
.conversation-item.active {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
}

/* Ensure wrapper matches active state if child is active - wait, CSS doesn't select parent. 
   Simplification: Let the wrapper hover show the button, but keep active styling on the item.
*/

.conversation-wrapper:hover .delete-btn {
    opacity: 1;
}

.conversation-title {
    font-size: 0.9rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1;
}

.delete-btn {
    background: transparent;
    border: none;
    color: var(--color-text-secondary);
    cursor: pointer;
    padding: 8px;
    border-radius: 4px;
    opacity: 0;
    /* Hidden by default */
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 4px;
}

.delete-btn:hover {
    color: #ef4444;
    /* Red for delete */
    background-color: rgba(239, 68, 68, 0.1);
}

/* Mobile: Always show delete button or use different interaction? 
   For simplicity, always show on mobile or rely on tap logic (hover might stick).
   Let's keep it visible on mobile or when active.
*/
@media (max-width: 768px) {
    .delete-btn {
        opacity: 1;
    }
}

.conversation-item.active+.delete-btn {
    /* If we could select sibling, but usually better to have delete btn visible for active item too */
    opacity: 1;
}

.message-count {
    font-size: 0.75rem;
    background: rgba(255, 255, 255, 0.1);
    padding: 2px 6px;
    border-radius: 12px;
    color: var(--color-text-tertiary);
    min-width: 20px;
    text-align: center;
}

.sidebar-footer {
    padding: 16px;
    border-top: 1px solid var(--color-border);
}

.health-status {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.8rem;
    color: var(--color-text-secondary);
}

.status-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.status-indicator.online {
    background-color: #22c55e;
    box-shadow: 0 0 4px #22c55e;
}

.status-indicator.offline {
    background-color: #ef4444;
}

/* Mobile Adjustments */
@media (max-width: 768px) {
    .sidebar {
        width: 100%;
        max-width: 300px;
    }
}